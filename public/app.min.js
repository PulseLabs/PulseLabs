angular.module("pulse",["ngCookies","ui.router","pulse.user","pulse.playlist","pulse.factory","pulse.auth","pulse.main"]).config(["$stateProvider","$httpProvider","$urlRouterProvider",function(a,b,c){b.defaults.useXDomain=!0,b.defaults.withCredentials=!0,delete b.defaults.headers.common["X-Requested-With"],b.defaults.headers.common.Accept="application/json",b.defaults.headers.common["Content-Type"]="application/json",a.state("main",{url:"/main",templateUrl:"/app/main/main.html",controller:"MainController"}).state("user",{url:"/user",templateUrl:"/app/user/user.html",controller:"UserController"}).state("newplaylist",{url:"/newplaylist",templateUrl:"/app/playlist/newplaylist.html",controller:"PlaylistController"}).state("playlist",{url:"/playlist/:code",templateUrl:"/app/playlist/playlist.html",controller:"PlaylistController"}),c.otherwise("/main")}]),angular.module("pulse.auth",[]).controller("AuthController",["$cookies","$scope","Songs",function(a,b,c){}]),angular.module("pulse.main",[]).controller("MainController",["$scope",function(a){}]),angular.module("pulse.playlist",[]).controller("PlaylistController",["$scope","$http","Songs","$location","$state","$stateParams",function(a,b,c,d,e,f){a.tracks=[],a.currentPlaylist={},a.pos=0,a.audio=document.getElementById("track"),a.getPlaylist=function(b){console.log("playlist code: ",b),c.getPlaylist(b).then(function(b){a.tracks=b.playlist.songList,a.user=b.reqUserId,a.owner=b.user})},f.code&&a.getPlaylist(f.code),a.searchTrack=function(){if(""!==a.search){var b=a.search.split(" ").join("+");c.searchSongs(b).then(function(b){a.tracks=b.tracks.items})}},a.addSong=function(a){var b=({uri:a.uri},f.code);b?c.addSong(b,a).then(function(a){return a}):console.log("Please get code and submit it")},a.addPlaylist=function(){c.addPlaylist(a.newName).then(function(b){a.currentPlaylist=b,e.go("playlist",{code:b.code})})}}]),angular.module("pulse.factory",[]).factory("Songs",["$http","$state",function(a,b){var c=function(b){return a({method:"GET",withCredentials:!1,url:"https://api.spotify.com/v1/search?q="+b+"&type=track"}).then(function(a){return a.data})},d=function(b){return a({method:"GET",url:"/api/play/"+b,data:{}}).then(function(a){return a.data})},e=function(b){return a({method:"POST",url:"/api/play/create",data:{name:b}}).then(function(a){return console.log("resp from create api call: ",a.data),a.data})},f=function(b,c){return a({method:"POST",url:"/api/play/"+b+"/add",data:c})};return{addSong:f,searchSongs:c,getPlaylist:d,addPlaylist:e}}]),angular.module("pulse.user",[]).controller("UserController",["$scope",function(a){}]);
//# sourceMappingURL=app.min.js.map